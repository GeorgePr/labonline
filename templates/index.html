{% extends 'base.html' %}

{% block head %}
<title>Home | LabOnLine</title>
{% endblock %}


{% block body %}


<form method="POST">
   <p>Select number of domains to create.</p><p>Press Load to configure network interfaces:</p>
   <input name="nm" id="nm" type=number value=1 min=1 max=24>
   <button type="button" id="load">Load</button><br /><br />
   <table id="net_conf">
   </table><br /><br />
   <p><input type="submit" disabled="disabled" id="submit" value="Submit"></p>
</form>

<script>
   $("#load").click(function(){
      $("#load").attr("disabled", "disabled");
      $("#net_conf").append("<button type=\"button\" id=\"load_interface\">Load interface selection</button><br><br>")
      param = $("#nm").val();
      for (var i=0; i<param; i++) {
         $("#net_conf").append("<tr><td><h4>R" + (i+1) + "</h4></td></tr>");
         $("#net_conf").append("<tr><td class=\"net" + (i+1) + "\">Number of interfaces:<input name=" + "\"net" + (i+1) + "\" id=" + "\"net" + (i+1) + "\" type=number value=1 min=0 max=4 /></td></tr><br />");
      }
   });
   $(document).on("click", "#load_interface", function(){
      $("#load_interface").attr("disabled", "disabled");
      $("#submit").removeAttr("disabled");
      var net_arr = new Array();
      for (i=0; i<param; i++) {
         net_arr[i] = parseInt($("#net" + (i+1)).val());
         console.log(net_arr[i]);
         for (j=0; j<net_arr[i]; j++) {
               $("#net_conf tr:odd .net" + (i+1)).append("<br><p1>net" + (j+1) + ": </p1><select name=\"interface_type\" id=\"interface_type\"><option value=\"nat\">NAT</option><option value=\"hostonly\">Host-Only</option><option value=\"bridge\">Bridge</option></select>");
         }
      }
   });
</script>

{% endblock %}